
# Kayıt ve Koleksiyon Veri Tipi

Tek bir değer tutan değişkenlerin ötesine geçerek, birden fazla veriyi mantıksal bir yapı altında saklamayı sağlayan **Bütünleşik Veri Yapılarını** (Record ve Collection) ele almaktadır.

### 1. Bütünleşik Veri Yapıları

Tek seferde tek bir veri tutan skaler tiplerin (VARCHAR2, NUMBER vb.) aksine, bütünleşik veri tipleri veriyi bir grup halinde yönetmeyi sağlar. Bu yapılar kodun okunabilirliğini artırır ve bakım maliyetlerini düşürür. İki temel yapı vardır: **Record (Kayıt)** ve **Collection (Koleksiyon)**.

### 2. Kayıt Veri Tipi (Record)

Farklı veri tiplerindeki verilerin (örneğin bir öğrencinin adı, numarası ve doğum tarihi) tek bir mantıksal çatı altında tutulmasını sağlar. Bir veritabanı tablosundaki "satır" mantığına benzer.

- **Yapısı:** "Field" adı verilen bileşenlerden oluşur. Verilere nokta notasyonu (`kayit_adi.alan_adi`) ile erişilir.
    
- **Record Türleri:**
    
    1. **Programcı Tanımlı Record:** Alanların isimleri ve veri tipleri programcı tarafından `TYPE ... IS RECORD` bloğu içinde tek tek belirtilir.
        
    2. **Kursör Tabanlı Record:** Bir kursörün döndürdüğü sonuç kümesinin yapısını referans alır (`%ROWTYPE` kullanılır).
        
    3. **Tablo Tabanlı Record:** Doğrudan bir veritabanı tablosunun veya view'ın yapısını referans alır (`tablo_adi%ROWTYPE`). Tablodaki bir sütun değişirse, record yapısı da otomatik uyum sağlar.
        

### 3. Koleksiyon Veri Yapısı (Collection)

Dizi (array) mantığına benzer şekilde, **aynı türdeki** çok sayıda veriyi saklamak için kullanılır.

- **Temel Koleksiyon Türleri:**
    
    1. **Associative Array (İlişkisel Dizi):** Anahtar-değer (Key-Value) çifti mantığıyla çalışır. Boyutu dinamiktir, eleman sayısı baştan belirtilmez. İndisler sayısal veya metin (string) tabanlı olabilir. Sıralı olma zorunluluğu yoktur (seyrek yapı).
        
    2. **VARRAY (Değişken Boyutlu Dizi):** Boyutu (maksimum eleman sayısı) tanımlanırken belirtilir ve sabit sınırları vardır. Elemanlar sıralı ve bitişiktir (sık yapı).
        
    3. **Nested Table (İç İçe Tablo):** Boyutu sınırlandırılmamıştır, dinamik olarak büyüyüp küçülebilir. Tek boyutlu dizi gibi davranır ve indisler 1'den başlar.
        

### 4. Koleksiyon Metodları

Koleksiyonlar üzerinde işlem yapmak, gezinmek veya boyutlarını yönetmek için kullanılan fonksiyonlardır:

- **Gezinme:** `FIRST` (ilk eleman), `LAST` (son eleman), `PRIOR` (önceki), `NEXT` (sonraki).
    
- **Yönetim:** `COUNT` (mevcut eleman sayısı), `LIMIT` (maksimum kapasite - sadece VARRAY için), `EXISTS` (eleman var mı?).
    
- **Değişiklik:** `EXTEND` (yeni eleman için yer açar), `TRIM` (sondan eleman siler), `DELETE` (belirli veya tüm elemanları siler).
    
